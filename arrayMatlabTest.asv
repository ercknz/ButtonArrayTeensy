%% Clean workspace
clear; clc;

%% Experment Parameters
mode = 1;
totalReps = 2;

%% Serial port 
arrayPort = 'COM5';
arrayBaud = 115200;
txPacketLen = 8;
rxPacketlen = 25;
rawPacket = nan(1, txPacketLen);
txHeader = uint8([155, 70, 69, 80]);


%% Test array
arrayObj = serialport(arrayPort, arrayBaud, "Timeout", 5);
write(arrayObj, txHeader);
while true
    if arrayObj.NumBytesAvailable > rxPacketlen
        data = read(arrayObj, rxPacketlen)
end
